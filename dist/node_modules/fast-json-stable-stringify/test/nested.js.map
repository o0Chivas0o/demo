{"version":3,"sources":["../../../../node_modules/fast-json-stable-stringify/test/nested.js"],"names":["test","require","stringify","t","plan","obj","c","b","z","y","x","a","equal","one","two","ex","toString","cycles"],"mappings":"AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,YAAYD,QAAQ,KAAR,CAAhB;;AAEAD,KAAK,QAAL,EAAe,UAAUG,CAAV,EAAa;AACxBA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIC,MAAM,EAAEC,GAAG,CAAL,EAAQC,GAAG,CAAC,EAACC,GAAE,CAAH,EAAKC,GAAE,CAAP,EAASC,GAAE,CAAX,EAAD,EAAe,CAAf,CAAX,EAA8BC,GAAG,CAAjC,EAAV;AACAR,MAAES,KAAF,CAAQV,UAAUG,GAAV,CAAR,EAAwB,2CAAxB;AACH,CAJD;;AAMAL,KAAK,kBAAL,EAAyB,UAAUG,CAAV,EAAa;AAClCA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIS,MAAM,EAAEF,GAAG,CAAL,EAAV;AACA,QAAIG,MAAM,EAAEH,GAAG,CAAL,EAAQE,KAAKA,GAAb,EAAV;AACAA,QAAIC,GAAJ,GAAUA,GAAV;AACA,QAAI;AACAZ,kBAAUW,GAAV;AACH,KAFD,CAEE,OAAOE,EAAP,EAAW;AACTZ,UAAES,KAAF,CAAQG,GAAGC,QAAH,EAAR,EAAuB,kDAAvB;AACH;AACJ,CAVD;;AAYAhB,KAAK,+BAAL,EAAsC,UAAUG,CAAV,EAAa;AAC/CA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIS,MAAM,EAAEF,GAAG,CAAL,EAAV;AACA,QAAIG,MAAM,EAAEH,GAAG,CAAL,EAAQE,KAAKA,GAAb,EAAV;AACAA,QAAIC,GAAJ,GAAUA,GAAV;AACAX,MAAES,KAAF,CAAQV,UAAUW,GAAV,EAAe,EAACI,QAAO,IAAR,EAAf,CAAR,EAAuC,yCAAvC;AACH,CAND;;AAQAjB,KAAK,2BAAL,EAAkC,UAASG,CAAT,EAAY;AAC1CA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIS,MAAM,EAAEH,GAAG,CAAL,EAAV;AACA,QAAII,MAAM,EAAEH,GAAGE,GAAL,EAAUN,GAAGM,GAAb,EAAV;AACAV,MAAES,KAAF,CAAQV,UAAUY,GAAV,CAAR,EAAwB,2BAAxB;AACH,CALD;;AAOAd,KAAK,+CAAL,EAAsD,UAAUG,CAAV,EAAa;AAC/DA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIM,IAAI,EAAEC,GAAG,CAAL,EAAR;AACA,QAAIF,IAAI,EAAEF,GAAGG,CAAL,EAAQJ,GAAGI,CAAX,EAAR;AACAP,MAAES,KAAF,CAAQV,UAAUO,CAAV,CAAR,EAAsB,2BAAtB;AACH,CALD","file":"nested.js","sourcesContent":["'use strict';\n\nvar test = require('tape');\nvar stringify = require('../');\n\ntest('nested', function (t) {\n    t.plan(1);\n    var obj = { c: 8, b: [{z:6,y:5,x:4},7], a: 3 };\n    t.equal(stringify(obj), '{\"a\":3,\"b\":[{\"x\":4,\"y\":5,\"z\":6},7],\"c\":8}');\n});\n\ntest('cyclic (default)', function (t) {\n    t.plan(1);\n    var one = { a: 1 };\n    var two = { a: 2, one: one };\n    one.two = two;\n    try {\n        stringify(one);\n    } catch (ex) {\n        t.equal(ex.toString(), 'TypeError: Converting circular structure to JSON');\n    }\n});\n\ntest('cyclic (specifically allowed)', function (t) {\n    t.plan(1);\n    var one = { a: 1 };\n    var two = { a: 2, one: one };\n    one.two = two;\n    t.equal(stringify(one, {cycles:true}), '{\"a\":1,\"two\":{\"a\":2,\"one\":\"__cycle__\"}}');\n});\n\ntest('repeated non-cyclic value', function(t) {\n    t.plan(1);\n    var one = { x: 1 };\n    var two = { a: one, b: one };\n    t.equal(stringify(two), '{\"a\":{\"x\":1},\"b\":{\"x\":1}}');\n});\n\ntest('acyclic but with reused obj-property pointers', function (t) {\n    t.plan(1);\n    var x = { a: 1 };\n    var y = { b: x, c: x };\n    t.equal(stringify(y), '{\"b\":{\"a\":1},\"c\":{\"a\":1}}');\n});\n"]}